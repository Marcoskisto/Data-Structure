<div class="container py-3">
  <div class="d-flex"> 
    <div>
      <div class="btn-group mb-3" role="group" aria-label="Sorting buttons">
        <button type="button" class="btn btn-outline-secondary" (click)="insertSort()" [disabled]="isRunning">Insert</button>
        <button type="button" class="btn btn-outline-secondary" (click)="selectSort()" [disabled]="isRunning">Select</button>
        <button type="button" class="btn btn-outline-secondary" (click)="shellKnuth()" [disabled]="isRunning">Shell Knuth</button>
        <button type="button" class="btn btn-outline-secondary" (click)="shellOriginal()" [disabled]="isRunning">Shell Original</button>
        <button type="button" class="btn btn-outline-secondary" (click)="mergeSort()" [disabled]="isRunning">Merge</button>
        <button type="button" class="btn btn-outline-secondary" (click)="quickSort()" [disabled]="isRunning">Quick</button>
      </div>

      <div class="d-flex flex-wrap align-items-center gap-2 mb-3">
        <input
          type="number"
          min="5"
          max="220"
          class="form-control"
          style="max-width: 70px;"
          [(ngModel)]="newValue"
          [disabled]="isRunning"
          placeholder="number"
        />
        <button type="button" class="btn btn-outline-secondary" (click)="add(newValue)" [disabled]="isRunning">
          <i class="bi bi-plus"></i>
        </button>
        <button type="button" class="btn btn-outline-secondary" (click)="clear()" [disabled]="isRunning">
          <i class="bi bi-backspace"></i>
        </button>
        <button type="button" class="btn btn-outline-secondary" (click)="reset()" [disabled]="isRunning">
          <i class="bi bi-bootstrap-reboot"></i>
        </button>
        <button type="button" class="btn btn-outline-secondary" (click)="growing()" [disabled]="isRunning">
          <i class="bi bi-sort-up"></i>
        </button>
        <button type="button" class="btn btn-outline-secondary " (click)="decreasing()" [disabled]="isRunning">
          <i class="bi bi-sort-down-alt"></i>
        </button>
      </div>

      <div class="mb-3 d-flex align-items-center gap-3" style="max-width: 350px;">
        <label class="form-label fw-bold mb-0" style="white-space: nowrap;">Speed: {{speed}}</label>
        <input
          type="range"
          class="form-range flex-grow-1"
          min="0"
          max="101"
          step="10"
          [(ngModel)]="speed"
          (input)="updateDelay()"
        />
      </div>
      
    </div>
    <div class="d-flex row ms-4" *ngIf="complexity">
      <span>Best Case: {{complexity.bestFormula}} = {{complexity.bestCount}}</span>
      <span>Average Case: {{complexity.averageFormula}} = {{complexity.averageCount}}</span>
      <span *ngIf="complexity.worstFormula != null">Worst case: {{complexity.worstFormula}} = {{complexity.worstCount}}</span>
      <span>Big-O: {{complexity.bigO}}</span>
      <span class="fw-bold">Complexity: {{complexityCounter}}</span>
    </div>
  </div>
  <div class="board w-100">
    @if(inSort){
      <square
        [position]=inSort.position
        [id]=inSort.identity
        [color]=inSort.color
        [value]=inSort.value      
      />
    }
    @if(auxA){
      <square
        [position]=auxA.position
        [id]=auxA.identity
        [color]=auxA.color
        [value]=auxA.value      
      />
    }
    @if(auxB){
      <square
        [position]=auxB.position
        [id]=auxB.identity
        [color]=auxB.color
        [value]=auxB.value      
      />
    }
    @for(square of squares; track square.identity) {
      <square
        [position]=square.position
        [id]=square.identity
        [color]=square.color
        [value]=square.value      
      />
    }
  </div>
</div>
